(this["webpackJsonpmessenger-real-time"]=this["webpackJsonpmessenger-real-time"]||[]).push([[0],{40:function(e){e.exports=JSON.parse('{"publishKey":"pub-c-1abedf8b-507f-434d-a5bc-25cc3981e0b5","subscribeKey":"sub-c-08fa9484-3508-11eb-b6eb-96faa39b9528"}')},47:function(e,s,t){},59:function(e,s,t){},67:function(e,s,t){},68:function(e,s,t){},69:function(e,s,t){},70:function(e,s,t){},71:function(e,s,t){},72:function(e,s,t){},73:function(e,s,t){},75:function(e,s,t){"use strict";t.r(s);var n=t(1),c=t(2),a=t.n(c),i=t(10),u=t.n(i),r=(t(47),t(18)),j=t(7),o=t(36),b=t.n(o),l=t(26),d=t(38),O=t(39),p=t(81),h=t(77),g=t(78),x=t(79),m=t(83),f=t(80),v=t(82),y=t(8),T=t(9),N=(t(59),function(e){var s=Object(c.useState)(!1),t=Object(j.a)(s,2),a=t[0],i=t[1];return Object(c.useEffect)((function(){e.nameInput&&i(!1)}),[e.nameInput]),Object(n.jsx)("div",{className:"Landing ".concat(e.users.length>1?"hide":"show"),children:e.user.name&&e.users.length<2?Object(n.jsxs)(h.a,{children:[Object(n.jsx)("p",{className:"mb-4",children:"Waiting for other user..."}),Object(n.jsx)(y.a,{icon:T.b,spin:!0,size:"2x"})]}):Object(n.jsx)(h.a,{children:Object(n.jsxs)("form",{onSubmit:function(s){return function(s){s.preventDefault(),e.nameInput?e.setUser({name:e.nameInput,uuid:Object(p.a)()}):i(!0)}(s)},children:[Object(n.jsx)("p",{className:"mb-4",children:"Enter name to begin chatting"}),Object(n.jsxs)(g.a,{children:[Object(n.jsx)(x.a,{value:e.nameInput,placeholder:"John Doe",onChange:function(s){return e.handleNameInput(s)}}),Object(n.jsx)(m.a,{addonType:"append",children:Object(n.jsx)(f.a,{type:"submit",children:"Submit"})})]}),a?Object(n.jsx)(v.a,{color:"danger",children:"Please enter a name"}):null]})})})}),M=(t(67),function(e){return Object(n.jsx)("div",{className:"ChatTitle",children:e.chatWith?Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"Chatting with"}),Object(n.jsx)("div",{className:"user-icon is-xxl",children:Object(n.jsx)(y.a,{icon:T.c})}),Object(n.jsx)("p",{children:e.chatWith.name})]}):null})}),I=(t(68),function(e){var s=e.message,t=s.user,c=s.text,a=t.uuid===e.user.uuid,i=e.nextMessage&&e.nextMessage.user.uuid===t.uuid,u=e.prevMessage&&e.prevMessage.user.uuid===t.uuid;return e.typingMessage?Object(n.jsxs)("div",{className:"Message recieved is-typing",children:[Object(n.jsx)("div",{className:"user-icon is-xl",children:Object(n.jsx)(y.a,{icon:T.c})}),Object(n.jsxs)("div",{className:"text",children:[Object(n.jsx)("span",{}),Object(n.jsx)("span",{}),Object(n.jsx)("span",{})]})]}):a?Object(n.jsx)("div",{className:"Message sent",children:Object(n.jsx)("div",{className:"text ".concat(u?"same-user":""),children:c})}):Object(n.jsxs)("div",{className:"Message recieved",children:[i?null:Object(n.jsx)("div",{className:"user-icon is-xl",children:Object(n.jsx)(y.a,{icon:T.c})}),Object(n.jsx)("div",{className:"text ".concat(u?"same-user":""),children:c})]})}),S=(t(69),function(e){return Object(n.jsxs)("div",{className:"ChatBody",id:"chat-body-".concat(e.position),children:[e.messages.map((function(s,t){return Object(n.jsx)(I,{message:s,user:e.user,nextMessage:e.messages[t+1],prevMessage:e.messages[t-1]},t)})),e.isTyping.user.uuid&&e.isTyping.user.uuid!==e.user.uuid?Object(n.jsx)(I,{typingMessage:!0,message:{user:e.user},user:e.isTyping.user}):null]})}),C=(t(70),function(e){var s=Object(c.useState)(""),t=Object(j.a)(s,2),a=t[0],i=t[1];return Object(n.jsx)("form",{className:"ChatInput",onSubmit:function(s){s.preventDefault(),e.sendMessage(a),i("")},children:Object(n.jsxs)(g.a,{children:[Object(n.jsx)(x.a,{value:a,placeholder:"Start a message",onChange:function(e){return i(e.target.value)},onFocus:e.isTyping,onBlur:e.isntTyping}),Object(n.jsx)(m.a,{addonType:"append",children:Object(n.jsx)(f.a,{type:"submit",color:"primary",children:Object(n.jsx)(y.a,{icon:T.a})})})]})})}),E=(t(71),function(e){var s=Object(c.useState)(""),t=Object(j.a)(s,2),a=t[0],i=t[1],u=Object(c.useState)({name:"",uuid:""}),o=Object(j.a)(u,2),b=o[0],l=o[1],p=e.addUser,h=e.users,g=e.position,x=e.messages;Object(c.useEffect)((function(){b.name&&(b.position=g,p([].concat(Object(r.a)(h),[b])))}),[b,p,g]),Object(c.useEffect)((function(){O.animateScroll.scrollToBottom({containerId:"chat-body-"+g,smooth:!0,duration:200})}),[x,g]);var m=h.find((function(e){return e.uuid!==b.uuid}));return Object(n.jsxs)("div",{className:"ChatContainer ".concat(e.activeTab===g?"tab-active":""),style:Object(d.a)({},g,0),children:[Object(n.jsx)(N,{handleNameInput:function(e){i(e.target.value)},nameInput:a,user:b,setUser:l,users:h}),Object(n.jsx)(M,{chatWith:m}),Object(n.jsx)(S,{position:g,messages:x,user:b,isTyping:e.isTyping}),Object(n.jsx)(C,{sendMessage:function(s){e.sendMessage(s,b)},isTyping:function(){e.setIsTyping({user:b})},isntTyping:function(){e.setIsTyping({user:""})}})]})}),U=(t(72),function(e){return Object(n.jsx)("div",{className:"Tab ".concat(e.activeTab===e.position?"active":""),style:{float:e.position},onClick:function(){return e.toggleTab(e.position)},children:Object(n.jsx)("p",{children:e.user?e.user.name:"User ".concat("left"===e.position?"1":"2")})})}),w=t(40),B=(t(73),new b.a(w)),J=function(){var e=Object(l.b)(),s=Object(c.useState)("left"),t=Object(j.a)(s,2),a=t[0],i=t[1],u=Object(c.useState)(["channel1"]),o=Object(j.a)(u,1)[0],b=Object(c.useState)([]),d=Object(j.a)(b,2),O=d[0],p=d[1],h=Object(c.useState)([]),g=Object(j.a)(h,2),x=g[0],m=g[1],f=Object(c.useState)({user:{}}),v=Object(j.a)(f,2),y=v[0],T=v[1];Object(c.useEffect)((function(){e.addListener({message:N}),e.subscribe({channels:o})}),[e,o]);var N=function(e){var s=e.message,t=s.text,n=s.user;p((function(e){return[].concat(Object(r.a)(e),[{text:t,user:n}])}))},M=function(s,t){s&&e.publish({channel:o[0],message:{text:s,user:t}})},I=function(e){a!==e&&i(e)};return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsxs)("div",{className:"tabs",children:[Object(n.jsx)(U,{position:"left",activeTab:a,toggleTab:I,user:x.find((function(e){return"left"===e.position}))}),Object(n.jsx)(U,{position:"right",activeTab:a,toggleTab:I,user:x.find((function(e){return"right"===e.position}))})]}),Object(n.jsx)(E,{position:"left",sendMessage:M,messages:O,users:x,addUser:m,activeTab:a,isTyping:y,setIsTyping:T}),Object(n.jsx)(E,{position:"right",sendMessage:M,messages:O,users:x,addUser:m,activeTab:a,isTyping:y,setIsTyping:T})]})},W=function(){return Object(n.jsx)(l.a,{client:B,children:Object(n.jsx)(J,{})})};t(74);u.a.render(Object(n.jsx)(a.a.Fragment,{children:Object(n.jsx)(W,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.b3ff558c.chunk.js.map